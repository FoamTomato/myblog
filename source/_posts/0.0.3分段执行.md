---
title: 分段执行
date: 2022-05-01 22:47:30
tags:
    - 工具类
    - 算法公式
top_img: https://image.baidu.com/search/down?tn=download&word=download&ie=utf8&fr=detail&url=http://p6.qhimg.com/bdm/1000_618_85/t016abc0de421e60f9d.jpg
cover: https://image.baidu.com/search/down?tn=download&word=download&ie=utf8&fr=detail&url=http://p6.qhimg.com/bdm/1000_618_85/t016abc0de421e60f9d.jpg
---
```java
int batchSize = 1000;
if(dataList.size() <= batchSize){
    insertByStocks(dataList,type);
}else {
    for(int i = 0;i < dataList.size();i+=batchSize){
        if((i + batchSize)> dataList.size()){
            batchSize = dataList.size()-i;
        }
        insertByStocks(dataList.subList(i,i+batchSize),type);
    }
}
```
batchSize: 每次执行多少条

dataList:  数据列表

insertByStocks：需要执行的方法