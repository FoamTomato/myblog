---
title: MinIOæ­å»ºæœ¬åœ°å±€åŸŸç½‘æ–‡ä»¶ç®¡ç†ç³»ç»Ÿ
date: 2025-08-06 14:30:25
tags:
    - MinIO
    - æ–‡ä»¶ç®¡ç†ç³»ç»Ÿ
    - Java
    - Spring Boot
    - Vue
    - TypeScript
    - å±€åŸŸç½‘
    - æ–‡ä»¶å­˜å‚¨
    - å‰åç«¯åˆ†ç¦»
    - å¯¹è±¡å­˜å‚¨
top_img: https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=1200&h=400&fit=crop
cover: https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=800&h=600&fit=crop
---

> åœ¨ä¼ä¸šå†…éƒ¨ï¼Œæ–‡ä»¶ç®¡ç†æ˜¯ä¸€ä¸ªè‡³å…³é‡è¦çš„éœ€æ±‚ã€‚ä¼ ç»Ÿçš„æ–‡ä»¶æœåŠ¡å™¨å¾€å¾€å­˜åœ¨æ‰©å±•æ€§å·®ã€å®‰å…¨æ€§ä¸è¶³ç­‰é—®é¢˜ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å¦‚ä½•ä½¿ç”¨MinIOæ­å»ºä¸€å¥—å®Œæ•´çš„æœ¬åœ°å±€åŸŸç½‘æ–‡ä»¶ç®¡ç†ç³»ç»Ÿï¼ŒåŒ…æ‹¬å‰ç«¯Vue+TypeScriptå’Œåç«¯Java Spring Bootçš„å…¨æ ˆè§£å†³æ–¹æ¡ˆã€‚

## ç³»ç»Ÿæ¶æ„è®¾è®¡

### æ ¸å¿ƒç»„ä»¶

#### 1. MinIO - å¯¹è±¡å­˜å‚¨æœåŠ¡
- **è§’è‰²**: æ ¸å¿ƒå­˜å‚¨å¼•æ“
- **ä¼˜åŠ¿**: S3å…¼å®¹ã€é«˜æ€§èƒ½ã€æ˜“æ‰©å±•
- **åŠŸèƒ½**: æ–‡ä»¶ä¸Šä¼ ä¸‹è½½ã€ç›®å½•ç®¡ç†ã€æƒé™æ§åˆ¶

#### 2. Spring Bootåç«¯
- **æŠ€æœ¯æ ˆ**: Java 17 + Spring Boot 3.0
- **åŠŸèƒ½**: 
  - RESTful APIæ¥å£
  - æ–‡ä»¶å…ƒæ•°æ®ç®¡ç†
  - ç”¨æˆ·æƒé™æ§åˆ¶
  - æ–‡ä»¶æ“ä½œä¸šåŠ¡é€»è¾‘

#### 3. Vue 3å‰ç«¯
- **æŠ€æœ¯æ ˆ**: Vue 3 + TypeScript + Element Plus
- **åŠŸèƒ½**:
  - æ–‡ä»¶æµè§ˆå™¨ç•Œé¢
  - æ‹–æ‹½ä¸Šä¼ 
  - æ–‡ä»¶é¢„è§ˆ
  - ç”¨æˆ·ç®¡ç†ç•Œé¢

#### 4. MySQLæ•°æ®åº“
- **ç”¨é€”**: å­˜å‚¨æ–‡ä»¶å…ƒæ•°æ®ã€ç”¨æˆ·ä¿¡æ¯ã€æ“ä½œæ—¥å¿—
- **ä¼˜åŠ¿**: å…³ç³»å‹æ•°æ®ä¿è¯æ•°æ®ä¸€è‡´æ€§

### æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Vue 3 + TS    â”‚    â”‚ Spring Boot API â”‚    â”‚     MySQL       â”‚
â”‚   å‰ç«¯ç•Œé¢      â”‚â—„â”€â”€â–ºâ”‚   ä¸šåŠ¡é€»è¾‘å±‚    â”‚â—„â”€â”€â–ºâ”‚   å…ƒæ•°æ®å­˜å‚¨    â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                        â”‚                        â”‚
         â–¼                        â–¼                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   æ–‡ä»¶ä¸Šä¼       â”‚    â”‚   MinIO Client  â”‚    â”‚   æ–‡ä»¶å­˜å‚¨      â”‚
â”‚   è¿›åº¦æ˜¾ç¤º      â”‚â—„â”€â”€â–ºâ”‚   SDKé›†æˆ       â”‚â—„â”€â”€â–ºâ”‚   å¯¹è±¡å­˜å‚¨      â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## åç«¯è®¾è®¡ (Java + Spring Boot)

### é¡¹ç›®ç»“æ„

```
file-management-system/
â”œâ”€â”€ src/main/java/com/filemanager/
â”‚   â”œâ”€â”€ config/           # é…ç½®ç±»
â”‚   â”‚   â”œâ”€â”€ MinioConfig.java
â”‚   â”‚   â””â”€â”€ SecurityConfig.java
â”‚   â”œâ”€â”€ controller/       # RESTæ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ FileController.java
â”‚   â”‚   â””â”€â”€ UserController.java
â”‚   â”œâ”€â”€ service/          # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”‚   â”œâ”€â”€ FileService.java
â”‚   â”‚   â”œâ”€â”€ UserService.java
â”‚   â”‚   â””â”€â”€ MinioService.java
â”‚   â”œâ”€â”€ entity/           # å®ä½“ç±»
â”‚   â”‚   â”œâ”€â”€ FileInfo.java
â”‚   â”‚   â””â”€â”€ User.java
â”‚   â”œâ”€â”€ repository/       # æ•°æ®è®¿é—®å±‚
â”‚   â”‚   â”œâ”€â”€ FileRepository.java
â”‚   â”‚   â””â”€â”€ UserRepository.java
â”‚   â”œâ”€â”€ dto/              # æ•°æ®ä¼ è¾“å¯¹è±¡
â”‚   â”‚   â”œâ”€â”€ FileUploadDTO.java
â”‚   â”‚   â””â”€â”€ FileInfoDTO.java
â”‚   â””â”€â”€ exception/        # å¼‚å¸¸å¤„ç†
â”‚       â””â”€â”€ GlobalExceptionHandler.java
```

### æ ¸å¿ƒé…ç½®ç±»

#### MinIOé…ç½®

```java
@Configuration
public class MinioConfig {

    @Value("${minio.endpoint}")
    private String endpoint;

    @Value("${minio.access-key}")
    private String accessKey;

    @Value("${minio.secret-key}")
    private String secretKey;

    @Value("${minio.bucket-name}")
    private String bucketName;

    @Bean
    public MinioClient minioClient() {
        return MinioClient.builder()
                .endpoint(endpoint)
                .credentials(accessKey, secretKey)
                .build();
    }

    @Bean
    public String bucketName() {
        return bucketName;
    }
}
```

#### å®‰å…¨é…ç½®

```java
@Configuration
@EnableWebSecurity
public class SecurityConfig {

    @Bean
    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {
        http.csrf().disable()
            .authorizeHttpRequests(authz -> authz
                .requestMatchers("/api/auth/**").permitAll()
                .requestMatchers("/api/files/**").authenticated()
                .anyRequest().authenticated()
            )
            .sessionManagement(session -> session
                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)
            )
            .addFilterBefore(jwtAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);

        return http.build();
    }

    @Bean
    public JwtAuthenticationFilter jwtAuthenticationFilter() {
        return new JwtAuthenticationFilter();
    }
}
```

### æ ¸å¿ƒä¸šåŠ¡é€»è¾‘

#### æ–‡ä»¶æœåŠ¡

```java
@Service
@Slf4j
public class FileService {

    @Autowired
    private MinioClient minioClient;

    @Autowired
    private String bucketName;

    @Autowired
    private FileRepository fileRepository;

    /**
     * ä¸Šä¼ æ–‡ä»¶
     */
    public FileInfoDTO uploadFile(MultipartFile file, String userId, String folder) throws Exception {
        // ç”Ÿæˆå”¯ä¸€æ–‡ä»¶å
        String originalFilename = file.getOriginalFilename();
        String fileExtension = getFileExtension(originalFilename);
        String uniqueFilename = generateUniqueFilename(originalFilename, fileExtension);

        // æ„å»ºå¯¹è±¡åç§°
        String objectName = StringUtils.isNotBlank(folder) ?
            folder + "/" + uniqueFilename : uniqueFilename;

        // ä¸Šä¼ åˆ°MinIO
        minioClient.putObject(
            PutObjectArgs.builder()
                .bucket(bucketName)
                .object(objectName)
                .stream(file.getInputStream(), file.getSize(), -1)
                .contentType(file.getContentType())
                .build()
        );

        // ä¿å­˜æ–‡ä»¶å…ƒæ•°æ®
        FileInfo fileInfo = new FileInfo();
        fileInfo.setOriginalName(originalFilename);
        fileInfo.setUniqueName(uniqueFilename);
        fileInfo.setObjectName(objectName);
        fileInfo.setFileSize(file.getSize());
        fileInfo.setContentType(file.getContentType());
        fileInfo.setUserId(userId);
        fileInfo.setFolder(folder);
        fileInfo.setUploadTime(LocalDateTime.now());

        fileRepository.save(fileInfo);

        return convertToDTO(fileInfo);
    }

    /**
     * ä¸‹è½½æ–‡ä»¶
     */
    public InputStreamResource downloadFile(String fileId) throws Exception {
        FileInfo fileInfo = fileRepository.findById(fileId)
            .orElseThrow(() -> new RuntimeException("æ–‡ä»¶ä¸å­˜åœ¨"));

        GetObjectResponse response = minioClient.getObject(
            GetObjectArgs.builder()
                .bucket(bucketName)
                .object(fileInfo.getObjectName())
                .build()
        );

        return new InputStreamResource(response);
    }

    /**
     * åˆ é™¤æ–‡ä»¶
     */
    public void deleteFile(String fileId) throws Exception {
        FileInfo fileInfo = fileRepository.findById(fileId)
            .orElseThrow(() -> new RuntimeException("æ–‡ä»¶ä¸å­˜åœ¨"));

        // ä»MinIOåˆ é™¤
        minioClient.removeObject(
            RemoveObjectArgs.builder()
                .bucket(bucketName)
                .object(fileInfo.getObjectName())
                .build()
        );

        // ä»æ•°æ®åº“åˆ é™¤
        fileRepository.delete(fileInfo);
    }

    /**
     * è·å–æ–‡ä»¶åˆ—è¡¨
     */
    public Page<FileInfoDTO> getFileList(String userId, String folder,
                                        Pageable pageable) {
        Page<FileInfo> files = fileRepository.findByUserIdAndFolder(
            userId, folder, pageable);
        return files.map(this::convertToDTO);
    }

    private String generateUniqueFilename(String originalFilename, String extension) {
        String timestamp = String.valueOf(System.currentTimeMillis());
        String random = UUID.randomUUID().toString().substring(0, 8);
        return timestamp + "_" + random + "." + extension;
    }

    private String getFileExtension(String filename) {
        return filename.substring(filename.lastIndexOf(".") + 1);
    }

    private FileInfoDTO convertToDTO(FileInfo fileInfo) {
        FileInfoDTO dto = new FileInfoDTO();
        dto.setId(fileInfo.getId());
        dto.setOriginalName(fileInfo.getOriginalName());
        dto.setFileSize(fileInfo.getFileSize());
        dto.setContentType(fileInfo.getContentType());
        dto.setUploadTime(fileInfo.getUploadTime());
        dto.setFolder(fileInfo.getFolder());
        return dto;
    }
}
```

#### MinIOæœåŠ¡

```java
@Service
@Slf4j
public class MinioService {

    @Autowired
    private MinioClient minioClient;

    @Autowired
    private String bucketName;

    /**
     * åˆå§‹åŒ–å­˜å‚¨æ¡¶
     */
    @PostConstruct
    public void initBucket() {
        try {
            boolean exists = minioClient.bucketExists(
                BucketExistsArgs.builder().bucket(bucketName).build());
            if (!exists) {
                minioClient.makeBucket(
                    MakeBucketArgs.builder().bucket(bucketName).build());
                log.info("åˆ›å»ºå­˜å‚¨æ¡¶: {}", bucketName);
            }
        } catch (Exception e) {
            log.error("åˆå§‹åŒ–å­˜å‚¨æ¡¶å¤±è´¥", e);
        }
    }

    /**
     * åˆ›å»ºæ–‡ä»¶å¤¹
     */
    public void createFolder(String folderName) throws Exception {
        // MinIOä¸­æ–‡ä»¶å¤¹é€šè¿‡ç©ºå¯¹è±¡è¡¨ç¤º
        String objectName = folderName.endsWith("/") ? folderName : folderName + "/";

        minioClient.putObject(
            PutObjectArgs.builder()
                .bucket(bucketName)
                .object(objectName)
                .stream(new ByteArrayInputStream(new byte[]{}), 0, -1)
                .build()
        );
    }

    /**
     * è·å–æ–‡ä»¶URL
     */
    public String getFileUrl(String objectName, int expirySeconds) throws Exception {
        return minioClient.getPresignedObjectUrl(
            GetPresignedObjectUrlArgs.builder()
                .method(Method.GET)
                .bucket(bucketName)
                .object(objectName)
                .expiry(expirySeconds)
                .build()
        );
    }

    /**
     * å¤åˆ¶æ–‡ä»¶
     */
    public void copyFile(String sourceObjectName, String destObjectName) throws Exception {
        minioClient.copyObject(
            CopyObjectArgs.builder()
                .bucket(bucketName)
                .object(destObjectName)
                .source(CopySource.builder()
                    .bucket(bucketName)
                    .object(sourceObjectName)
                    .build())
                .build()
        );
    }
}
```

### REST APIæ¥å£

#### æ–‡ä»¶æ§åˆ¶å™¨

```java
@RestController
@RequestMapping("/api/files")
@CrossOrigin
public class FileController {

    @Autowired
    private FileService fileService;

    /**
     * ä¸Šä¼ æ–‡ä»¶
     */
    @PostMapping("/upload")
    public ResponseEntity<ApiResponse<FileInfoDTO>> uploadFile(
            @RequestParam("file") MultipartFile file,
            @RequestParam(value = "folder", required = false) String folder,
            @RequestHeader("Authorization") String token) {

        try {
            String userId = extractUserIdFromToken(token);
            FileInfoDTO result = fileService.uploadFile(file, userId, folder);
            return ResponseEntity.ok(ApiResponse.success(result));
        } catch (Exception e) {
            return ResponseEntity.badRequest()
                .body(ApiResponse.error("æ–‡ä»¶ä¸Šä¼ å¤±è´¥: " + e.getMessage()));
        }
    }

    /**
     * ä¸‹è½½æ–‡ä»¶
     */
    @GetMapping("/download/{fileId}")
    public ResponseEntity<InputStreamResource> downloadFile(@PathVariable String fileId) {
        try {
            InputStreamResource resource = fileService.downloadFile(fileId);
            FileInfo fileInfo = fileService.getFileInfo(fileId);

            return ResponseEntity.ok()
                .header(HttpHeaders.CONTENT_DISPOSITION,
                    "attachment; filename=\"" + fileInfo.getOriginalName() + "\"")
                .contentType(MediaType.parseMediaType(fileInfo.getContentType()))
                .body(resource);
        } catch (Exception e) {
            return ResponseEntity.notFound().build();
        }
    }

    /**
     * è·å–æ–‡ä»¶åˆ—è¡¨
     */
    @GetMapping("/list")
    public ResponseEntity<ApiResponse<Page<FileInfoDTO>>> getFileList(
            @RequestParam(value = "folder", required = false) String folder,
            @RequestParam(value = "page", defaultValue = "0") int page,
            @RequestParam(value = "size", defaultValue = "20") int size,
            @RequestHeader("Authorization") String token) {

        try {
            String userId = extractUserIdFromToken(token);
            Pageable pageable = PageRequest.of(page, size, Sort.by("uploadTime").descending());
            Page<FileInfoDTO> files = fileService.getFileList(userId, folder, pageable);

            return ResponseEntity.ok(ApiResponse.success(files));
        } catch (Exception e) {
            return ResponseEntity.badRequest()
                .body(ApiResponse.error("è·å–æ–‡ä»¶åˆ—è¡¨å¤±è´¥: " + e.getMessage()));
        }
    }

    /**
     * åˆ é™¤æ–‡ä»¶
     */
    @DeleteMapping("/{fileId}")
    public ResponseEntity<ApiResponse<Void>> deleteFile(
            @PathVariable String fileId,
            @RequestHeader("Authorization") String token) {

        try {
            fileService.deleteFile(fileId);
            return ResponseEntity.ok(ApiResponse.success(null));
        } catch (Exception e) {
            return ResponseEntity.badRequest()
                .body(ApiResponse.error("åˆ é™¤æ–‡ä»¶å¤±è´¥: " + e.getMessage()));
        }
    }

    /**
     * åˆ›å»ºæ–‡ä»¶å¤¹
     */
    @PostMapping("/folder")
    public ResponseEntity<ApiResponse<Void>> createFolder(
            @RequestParam("folderName") String folderName,
            @RequestHeader("Authorization") String token) {

        try {
            fileService.createFolder(folderName);
            return ResponseEntity.ok(ApiResponse.success(null));
        } catch (Exception e) {
            return ResponseEntity.badRequest()
                .body(ApiResponse.error("åˆ›å»ºæ–‡ä»¶å¤¹å¤±è´¥: " + e.getMessage()));
        }
    }

    private String extractUserIdFromToken(String token) {
        // JWT tokenè§£æé€»è¾‘
        return JwtUtils.extractUserId(token.replace("Bearer ", ""));
    }
}
```

## å‰ç«¯è®¾è®¡ (Vue 3 + TypeScript)

### é¡¹ç›®ç»“æ„

```
file-manager-frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/              # APIæ¥å£
â”‚   â”‚   â”œâ”€â”€ file.ts
â”‚   â”‚   â””â”€â”€ auth.ts
â”‚   â”œâ”€â”€ components/       # ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ FileUpload.vue
â”‚   â”‚   â”œâ”€â”€ FileList.vue
â”‚   â”‚   â”œâ”€â”€ FilePreview.vue
â”‚   â”‚   â””â”€â”€ FolderTree.vue
â”‚   â”œâ”€â”€ views/            # é¡µé¢
â”‚   â”‚   â”œâ”€â”€ Home.vue
â”‚   â”‚   â”œâ”€â”€ Login.vue
â”‚   â”‚   â””â”€â”€ FileManager.vue
â”‚   â”œâ”€â”€ types/            # ç±»å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ file.ts
â”‚   â”‚   â””â”€â”€ user.ts
â”‚   â”œâ”€â”€ utils/            # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ upload.ts
â”‚   â”‚   â””â”€â”€ format.ts
â”‚   â”œâ”€â”€ stores/           # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ file.ts
â”‚   â”‚   â””â”€â”€ user.ts
â”‚   â”œâ”€â”€ router/           # è·¯ç”±é…ç½®
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â””â”€â”€ App.vue
â”œâ”€â”€ public/
â””â”€â”€ package.json
```

### æ ¸å¿ƒç±»å‹å®šä¹‰

#### æ–‡ä»¶ç±»å‹

```typescript
// src/types/file.ts
export interface FileInfo {
  id: string;
  originalName: string;
  fileSize: number;
  contentType: string;
  uploadTime: string;
  folder?: string;
  url?: string;
}

export interface FileUploadDTO {
  file: File;
  folder?: string;
}

export interface FileListResponse {
  content: FileInfo[];
  totalElements: number;
  totalPages: number;
  size: number;
  number: number;
}

export interface UploadProgress {
  loaded: number;
  total: number;
  percentage: number;
}
```

### APIæ¥å£å°è£…

#### æ–‡ä»¶API

```typescript
// src/api/file.ts
import axios from 'axios';
import type { FileInfo, FileUploadDTO, FileListResponse } from '@/types/file';

const API_BASE_URL = import.meta.env.VITE_API_BASE_URL || 'http://localhost:8080/api';

class FileAPI {
  private getAuthHeaders() {
    const token = localStorage.getItem('token');
    return {
      Authorization: `Bearer ${token}`,
      'Content-Type': 'multipart/form-data',
    };
  }

  async uploadFile(fileData: FileUploadDTO): Promise<FileInfo> {
    const formData = new FormData();
    formData.append('file', fileData.file);
    if (fileData.folder) {
      formData.append('folder', fileData.folder);
    }

    const response = await axios.post(`${API_BASE_URL}/files/upload`, formData, {
      headers: this.getAuthHeaders(),
    });

    return response.data.data;
  }

  async getFileList(folder?: string, page = 0, size = 20): Promise<FileListResponse> {
    const params = new URLSearchParams({
      page: page.toString(),
      size: size.toString(),
    });

    if (folder) {
      params.append('folder', folder);
    }

    const response = await axios.get(`${API_BASE_URL}/files/list?${params}`, {
      headers: {
        Authorization: `Bearer ${localStorage.getItem('token')}`,
      },
    });

    return response.data.data;
  }

  async downloadFile(fileId: string): Promise<Blob> {
    const response = await axios.get(`${API_BASE_URL}/files/download/${fileId}`, {
      headers: this.getAuthHeaders(),
      responseType: 'blob',
    });

    return response.data;
  }

  async deleteFile(fileId: string): Promise<void> {
    await axios.delete(`${API_BASE_URL}/files/${fileId}`, {
      headers: {
        Authorization: `Bearer ${localStorage.getItem('token')}`,
      },
    });
  }

  async createFolder(folderName: string): Promise<void> {
    const formData = new FormData();
    formData.append('folderName', folderName);

    await axios.post(`${API_BASE_URL}/files/folder`, formData, {
      headers: this.getAuthHeaders(),
    });
  }
}

export const fileAPI = new FileAPI();
```

### æ ¸å¿ƒç»„ä»¶

#### æ–‡ä»¶ä¸Šä¼ ç»„ä»¶

```vue
<!-- src/components/FileUpload.vue -->
<template>
  <div class="file-upload">
    <div
      class="upload-area"
      :class="{ 'drag-over': isDragOver }"
      @drop="handleDrop"
      @dragover.prevent="isDragOver = true"
      @dragleave="isDragOver = false"
    >
      <input
        ref="fileInput"
        type="file"
        multiple
        @change="handleFileSelect"
        class="file-input"
      />

      <div class="upload-content">
        <i class="el-icon-upload upload-icon"></i>
        <p class="upload-text">
          {{ isDragOver ? 'é‡Šæ”¾é¼ æ ‡ä¸Šä¼ æ–‡ä»¶' : 'ç‚¹å‡»æˆ–æ‹–æ‹½æ–‡ä»¶åˆ°æ­¤å¤„ä¸Šä¼ ' }}
        </p>
        <el-button type="primary" @click="$refs.fileInput.click()">
          é€‰æ‹©æ–‡ä»¶
        </el-button>
      </div>
    </div>

    <!-- ä¸Šä¼ è¿›åº¦ -->
    <div v-if="uploadProgress.length > 0" class="upload-progress">
      <div
        v-for="(progress, index) in uploadProgress"
        :key="index"
        class="progress-item"
      >
        <span class="file-name">{{ progress.fileName }}</span>
        <el-progress :percentage="progress.percentage" :show-text="false" />
        <span class="progress-text">{{ progress.percentage }}%</span>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref, reactive } from 'vue';
import { ElMessage } from 'element-plus';
import { fileAPI } from '@/api/file';
import type { UploadProgress } from '@/types/file';

const fileInput = ref<HTMLInputElement>();
const isDragOver = ref(false);
const uploadProgress = ref<UploadProgress[]>([]);

const emit = defineEmits<{
  uploadSuccess: [file: any];
}>();

const handleFileSelect = async (event: Event) => {
  const target = event.target as HTMLInputElement;
  const files = target.files;
  if (files) {
    await uploadFiles(Array.from(files));
  }
};

const handleDrop = async (event: DragEvent) => {
  event.preventDefault();
  isDragOver.value = false;

  const files = event.dataTransfer?.files;
  if (files) {
    await uploadFiles(Array.from(files));
  }
};

const uploadFiles = async (files: File[]) => {
  for (const file of files) {
    const progress: UploadProgress = reactive({
      fileName: file.name,
      loaded: 0,
      total: file.size,
      percentage: 0,
    });

    uploadProgress.value.push(progress);

    try {
      const result = await fileAPI.uploadFile({
        file: file,
        folder: '', // å¯ä»¥ä»å½“å‰æ–‡ä»¶å¤¹è·å–
      });

      progress.percentage = 100;
      emit('uploadSuccess', result);

      ElMessage.success(`${file.name} ä¸Šä¼ æˆåŠŸ`);
    } catch (error) {
      ElMessage.error(`${file.name} ä¸Šä¼ å¤±è´¥`);
    }
  }

  // æ¸…é™¤å®Œæˆçš„ä¸Šä¼ 
  setTimeout(() => {
    uploadProgress.value = uploadProgress.value.filter(p => p.percentage < 100);
  }, 2000);
};
</script>

<style scoped>
.file-upload {
  width: 100%;
}

.upload-area {
  border: 2px dashed #d9d9d9;
  border-radius: 6px;
  padding: 40px;
  text-align: center;
  cursor: pointer;
  transition: all 0.3s;
}

.upload-area:hover,
.upload-area.drag-over {
  border-color: #409eff;
  background-color: #f5f7fa;
}

.upload-icon {
  font-size: 48px;
  color: #c0c4cc;
  margin-bottom: 16px;
}

.upload-text {
  margin: 16px 0;
  color: #606266;
}

.file-input {
  display: none;
}

.upload-progress {
  margin-top: 20px;
}

.progress-item {
  display: flex;
  align-items: center;
  margin-bottom: 10px;
}

.file-name {
  flex: 1;
  margin-right: 10px;
}

.progress-text {
  margin-left: 10px;
  width: 50px;
  text-align: right;
}
</style>
```

#### æ–‡ä»¶åˆ—è¡¨ç»„ä»¶

```vue
<!-- src/components/FileList.vue -->
<template>
  <div class="file-list">
    <!-- å·¥å…·æ  -->
    <div class="toolbar">
      <el-button type="primary" @click="showUploadDialog = true">
        <i class="el-icon-upload"></i> ä¸Šä¼ æ–‡ä»¶
      </el-button>
      <el-button @click="showCreateFolderDialog = true">
        <i class="el-icon-folder-add"></i> æ–°å»ºæ–‡ä»¶å¤¹
      </el-button>
      <el-input
        v-model="searchKeyword"
        placeholder="æœç´¢æ–‡ä»¶..."
        style="width: 200px"
        clearable
      >
        <template #prefix>
          <i class="el-icon-search"></i>
        </template>
      </el-input>
    </div>

    <!-- æ–‡ä»¶åˆ—è¡¨ -->
    <el-table
      :data="filteredFiles"
      style="width: 100%"
      @selection-change="handleSelectionChange"
    >
      <el-table-column type="selection" width="55" />
      <el-table-column label="æ–‡ä»¶å" min-width="200">
        <template #default="scope">
          <div class="file-item">
            <i :class="getFileIcon(scope.row.contentType)" class="file-icon"></i>
            <span class="file-name">{{ scope.row.originalName }}</span>
          </div>
        </template>
      </el-table-column>
      <el-table-column label="å¤§å°" width="120">
        <template #default="scope">
          {{ formatFileSize(scope.row.fileSize) }}
        </template>
      </el-table-column>
      <el-table-column label="ç±»å‹" width="120">
        <template #default="scope">
          {{ scope.row.contentType }}
        </template>
      </el-table-column>
      <el-table-column label="ä¸Šä¼ æ—¶é—´" width="180">
        <template #default="scope">
          {{ formatDate(scope.row.uploadTime) }}
        </template>
      </el-table-column>
      <el-table-column label="æ“ä½œ" width="150">
        <template #default="scope">
          <el-button size="mini" @click="downloadFile(scope.row)">ä¸‹è½½</el-button>
          <el-button size="mini" type="danger" @click="deleteFile(scope.row)">åˆ é™¤</el-button>
        </template>
      </el-table-column>
    </el-table>

    <!-- åˆ†é¡µ -->
    <div class="pagination">
      <el-pagination
        v-model:current-page="currentPage"
        v-model:page-size="pageSize"
        :page-sizes="[10, 20, 50, 100]"
        :total="totalElements"
        layout="total, sizes, prev, pager, next, jumper"
        @size-change="handleSizeChange"
        @current-change="handleCurrentChange"
      />
    </div>

    <!-- ä¸Šä¼ å¯¹è¯æ¡† -->
    <el-dialog
      v-model="showUploadDialog"
      title="ä¸Šä¼ æ–‡ä»¶"
      width="600px"
    >
      <file-upload @upload-success="handleUploadSuccess" />
    </el-dialog>

    <!-- åˆ›å»ºæ–‡ä»¶å¤¹å¯¹è¯æ¡† -->
    <el-dialog
      v-model="showCreateFolderDialog"
      title="æ–°å»ºæ–‡ä»¶å¤¹"
      width="400px"
    >
      <el-form :model="folderForm" label-width="80px">
        <el-form-item label="æ–‡ä»¶å¤¹å">
          <el-input v-model="folderForm.name" placeholder="è¯·è¾“å…¥æ–‡ä»¶å¤¹åç§°" />
        </el-form-item>
      </el-form>
      <template #footer>
        <el-button @click="showCreateFolderDialog = false">å–æ¶ˆ</el-button>
        <el-button type="primary" @click="createFolder">ç¡®å®š</el-button>
      </template>
    </el-dialog>
  </div>
</template>

<script setup lang="ts">
import { ref, computed, onMounted } from 'vue';
import { ElMessage, ElMessageBox } from 'element-plus';
import { fileAPI } from '@/api/file';
import FileUpload from './FileUpload.vue';
import type { FileInfo, FileListResponse } from '@/types/file';

const files = ref<FileInfo[]>([]);
const currentPage = ref(1);
const pageSize = ref(20);
const totalElements = ref(0);
const searchKeyword = ref('');
const selectedFiles = ref<FileInfo[]>([]);
const showUploadDialog = ref(false);
const showCreateFolderDialog = ref(false);
const folderForm = ref({ name: '' });

const filteredFiles = computed(() => {
  if (!searchKeyword.value) {
    return files.value;
  }
  return files.value.filter(file =>
    file.originalName.toLowerCase().includes(searchKeyword.value.toLowerCase())
  );
});

const loadFiles = async () => {
  try {
    const response: FileListResponse = await fileAPI.getFileList(
      '', // å½“å‰æ–‡ä»¶å¤¹
      currentPage.value - 1,
      pageSize.value
    );
    files.value = response.content;
    totalElements.value = response.totalElements;
  } catch (error) {
    ElMessage.error('åŠ è½½æ–‡ä»¶åˆ—è¡¨å¤±è´¥');
  }
};

const handleSelectionChange = (selection: FileInfo[]) => {
  selectedFiles.value = selection;
};

const downloadFile = async (file: FileInfo) => {
  try {
    const blob = await fileAPI.downloadFile(file.id);
    const url = window.URL.createObjectURL(blob);
    const link = document.createElement('a');
    link.href = url;
    link.download = file.originalName;
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
    window.URL.revokeObjectURL(url);
  } catch (error) {
    ElMessage.error('ä¸‹è½½å¤±è´¥');
  }
};

const deleteFile = async (file: FileInfo) => {
  try {
    await ElMessageBox.confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªæ–‡ä»¶å—ï¼Ÿ', 'æç¤º', {
      confirmButtonText: 'ç¡®å®š',
      cancelButtonText: 'å–æ¶ˆ',
      type: 'warning',
    });

    await fileAPI.deleteFile(file.id);
    ElMessage.success('åˆ é™¤æˆåŠŸ');
    loadFiles();
  } catch (error) {
    if (error !== 'cancel') {
      ElMessage.error('åˆ é™¤å¤±è´¥');
    }
  }
};

const handleUploadSuccess = (file: FileInfo) => {
  files.value.unshift(file);
  totalElements.value++;
};

const createFolder = async () => {
  if (!folderForm.value.name.trim()) {
    ElMessage.error('è¯·è¾“å…¥æ–‡ä»¶å¤¹åç§°');
    return;
  }

  try {
    await fileAPI.createFolder(folderForm.value.name);
    ElMessage.success('åˆ›å»ºæ–‡ä»¶å¤¹æˆåŠŸ');
    showCreateFolderDialog.value = false;
    folderForm.value.name = '';
    loadFiles();
  } catch (error) {
    ElMessage.error('åˆ›å»ºæ–‡ä»¶å¤¹å¤±è´¥');
  }
};

const handleSizeChange = (size: number) => {
  pageSize.value = size;
  currentPage.value = 1;
  loadFiles();
};

const handleCurrentChange = (page: number) => {
  currentPage.value = page;
  loadFiles();
};

const getFileIcon = (contentType: string) => {
  if (contentType.startsWith('image/')) {
    return 'el-icon-picture';
  } else if (contentType.startsWith('video/')) {
    return 'el-icon-video-camera';
  } else if (contentType.includes('pdf')) {
    return 'el-icon-document';
  } else if (contentType.includes('zip') || contentType.includes('rar')) {
    return 'el-icon-files';
  } else {
    return 'el-icon-document-copy';
  }
};

const formatFileSize = (bytes: number) => {
  if (bytes === 0) return '0 B';
  const k = 1024;
  const sizes = ['B', 'KB', 'MB', 'GB'];
  const i = Math.floor(Math.log(bytes) / Math.log(k));
  return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
};

const formatDate = (dateString: string) => {
  return new Date(dateString).toLocaleString();
};

onMounted(() => {
  loadFiles();
});
</script>

<style scoped>
.file-list {
  padding: 20px;
}

.toolbar {
  display: flex;
  gap: 10px;
  margin-bottom: 20px;
  align-items: center;
}

.file-item {
  display: flex;
  align-items: center;
  gap: 8px;
}

.file-icon {
  font-size: 20px;
  color: #606266;
}

.file-name {
  font-weight: 500;
}

.pagination {
  margin-top: 20px;
  text-align: center;
}
</style>
```

## æ•°æ®åº“è®¾è®¡

### æ–‡ä»¶ä¿¡æ¯è¡¨

```sql
-- æ–‡ä»¶ä¿¡æ¯è¡¨
CREATE TABLE file_info (
    id VARCHAR(36) PRIMARY KEY COMMENT 'æ–‡ä»¶ID',
    original_name VARCHAR(255) NOT NULL COMMENT 'åŸå§‹æ–‡ä»¶å',
    unique_name VARCHAR(255) NOT NULL COMMENT 'å”¯ä¸€æ–‡ä»¶å',
    object_name VARCHAR(500) NOT NULL COMMENT 'MinIOå¯¹è±¡åç§°',
    file_size BIGINT NOT NULL COMMENT 'æ–‡ä»¶å¤§å°(å­—èŠ‚)',
    content_type VARCHAR(100) COMMENT 'æ–‡ä»¶ç±»å‹',
    user_id VARCHAR(36) NOT NULL COMMENT 'ä¸Šä¼ ç”¨æˆ·ID',
    folder VARCHAR(500) COMMENT 'æ‰€å±æ–‡ä»¶å¤¹',
    upload_time DATETIME NOT NULL COMMENT 'ä¸Šä¼ æ—¶é—´',
    download_count INT DEFAULT 0 COMMENT 'ä¸‹è½½æ¬¡æ•°',
    is_deleted TINYINT(1) DEFAULT 0 COMMENT 'æ˜¯å¦åˆ é™¤',
    delete_time DATETIME COMMENT 'åˆ é™¤æ—¶é—´',
    INDEX idx_user_id (user_id),
    INDEX idx_folder (folder),
    INDEX idx_upload_time (upload_time)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='æ–‡ä»¶ä¿¡æ¯è¡¨';
```

### ç”¨æˆ·è¡¨

```sql
-- ç”¨æˆ·è¡¨
CREATE TABLE user (
    id VARCHAR(36) PRIMARY KEY COMMENT 'ç”¨æˆ·ID',
    username VARCHAR(50) NOT NULL UNIQUE COMMENT 'ç”¨æˆ·å',
    password VARCHAR(255) NOT NULL COMMENT 'å¯†ç ',
    email VARCHAR(100) COMMENT 'é‚®ç®±',
    phone VARCHAR(20) COMMENT 'æ‰‹æœºå·',
    real_name VARCHAR(50) COMMENT 'çœŸå®å§“å',
    role VARCHAR(20) DEFAULT 'USER' COMMENT 'è§’è‰²',
    status TINYINT(1) DEFAULT 1 COMMENT 'çŠ¶æ€: 1-æ­£å¸¸, 0-ç¦ç”¨',
    create_time DATETIME NOT NULL COMMENT 'åˆ›å»ºæ—¶é—´',
    last_login_time DATETIME COMMENT 'æœ€åç™»å½•æ—¶é—´',
    INDEX idx_username (username),
    INDEX idx_email (email)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='ç”¨æˆ·è¡¨';
```

### æ“ä½œæ—¥å¿—è¡¨

```sql
-- æ“ä½œæ—¥å¿—è¡¨
CREATE TABLE operation_log (
    id VARCHAR(36) PRIMARY KEY COMMENT 'æ—¥å¿—ID',
    user_id VARCHAR(36) NOT NULL COMMENT 'æ“ä½œç”¨æˆ·ID',
    operation_type VARCHAR(50) NOT NULL COMMENT 'æ“ä½œç±»å‹',
    resource_type VARCHAR(50) NOT NULL COMMENT 'èµ„æºç±»å‹',
    resource_id VARCHAR(36) COMMENT 'èµ„æºID',
    resource_name VARCHAR(255) COMMENT 'èµ„æºåç§°',
    operation_time DATETIME NOT NULL COMMENT 'æ“ä½œæ—¶é—´',
    ip_address VARCHAR(50) COMMENT 'IPåœ°å€',
    user_agent TEXT COMMENT 'ç”¨æˆ·ä»£ç†',
    INDEX idx_user_id (user_id),
    INDEX idx_operation_time (operation_time)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='æ“ä½œæ—¥å¿—è¡¨';
```

## éƒ¨ç½²é…ç½®

### Docker Composeé…ç½®

#### docker-compose.yml

```yaml
version: '3.8'

services:
  # MinIOæœåŠ¡
  minio:
    image: minio/minio:latest
    container_name: filemanager-minio
    ports:
      - "9000:9000"
      - "9001:9001"
    environment:
      MINIO_ROOT_USER: admin
      MINIO_ROOT_PASSWORD: password123
      MINIO_ADDRESS: ':9000'
      MINIO_CONSOLE_ADDRESS: ':9001'
    volumes:
      - ./data/minio:/data
    command: server /data --console-address ":9001"
    networks:
      - filemanager-network

  # MySQLæ•°æ®åº“
  mysql:
    image: mysql:8.0
    container_name: filemanager-mysql
    ports:
      - "3306:3306"
    environment:
      MYSQL_ROOT_PASSWORD: rootpassword
      MYSQL_DATABASE: filemanager
      MYSQL_USER: fileuser
      MYSQL_PASSWORD: filepassword
    volumes:
      - ./data/mysql:/var/lib/mysql
      - ./init:/docker-entrypoint-initdb.d
    networks:
      - filemanager-network

  # åº”ç”¨æœåŠ¡
  app:
    build: .
    container_name: filemanager-app
    ports:
      - "8080:8080"
    environment:
      SPRING_PROFILES_ACTIVE: docker
      MYSQL_HOST: mysql
      MYSQL_PORT: 3306
      MYSQL_DATABASE: filemanager
      MYSQL_USERNAME: fileuser
      MYSQL_PASSWORD: filepassword
      MINIO_ENDPOINT: http://minio:9000
      MINIO_ACCESS_KEY: admin
      MINIO_SECRET_KEY: password123
      MINIO_BUCKET_NAME: files
    depends_on:
      - mysql
      - minio
    networks:
      - filemanager-network

networks:
  filemanager-network:
    driver: bridge

volumes:
  mysql_data:
  minio_data:
```

### é…ç½®æ–‡ä»¶

#### application.yml

```yaml
server:
  port: 8080

spring:
  profiles:
    active: dev

  datasource:
    url: jdbc:mysql://${MYSQL_HOST:localhost}:${MYSQL_PORT:3306}/${MYSQL_DATABASE:filemanager}?useSSL=false&serverTimezone=Asia/Shanghai
    username: ${MYSQL_USERNAME:fileuser}
    password: ${MYSQL_PASSWORD:filepassword}
    driver-class-name: com.mysql.cj.jdbc.Driver

  jpa:
    hibernate:
      ddl-auto: update
    show-sql: false

minio:
  endpoint: ${MINIO_ENDPOINT:http://localhost:9000}
  access-key: ${MINIO_ACCESS_KEY:admin}
  secret-key: ${MINIO_SECRET_KEY:password123}
  bucket-name: ${MINIO_BUCKET_NAME:files}

jwt:
  secret: mySecretKey123456789012345678901234567890
  expiration: 86400000  # 24å°æ—¶

logging:
  level:
    com.filemanager: INFO
    org.springframework.security: DEBUG
```

### å¯åŠ¨è„šæœ¬

#### start.sh

```bash
#!/bin/bash

echo "ğŸš€ å¯åŠ¨æ–‡ä»¶ç®¡ç†ç³»ç»Ÿ..."

# æ£€æŸ¥Dockeræ˜¯å¦å®‰è£…
if ! command -v docker &> /dev/null; then
    echo "âŒ Dockeræœªå®‰è£…ï¼Œè¯·å…ˆå®‰è£…Docker"
    exit 1
fi

# æ£€æŸ¥Docker Composeæ˜¯å¦å®‰è£…
if ! command -v docker-compose &> /dev/null && ! docker compose version &> /dev/null; then
    echo "âŒ Docker Composeæœªå®‰è£…ï¼Œè¯·å…ˆå®‰è£…Docker Compose"
    exit 1
fi

# åˆ›å»ºå¿…è¦çš„ç›®å½•
echo "ğŸ“ åˆ›å»ºæ•°æ®ç›®å½•..."
mkdir -p data/mysql
mkdir -p data/minio

# å¯åŠ¨æœåŠ¡
echo "ğŸ—ï¸ å¯åŠ¨æœåŠ¡..."
if command -v docker-compose &> /dev/null; then
    docker-compose up -d
else
    docker compose up -d
fi

# ç­‰å¾…æœåŠ¡å¯åŠ¨
echo "â³ ç­‰å¾…æœåŠ¡å¯åŠ¨..."
sleep 30

# æ£€æŸ¥æœåŠ¡çŠ¶æ€
echo "ğŸ” æ£€æŸ¥æœåŠ¡çŠ¶æ€..."
docker ps

echo ""
echo "âœ… æœåŠ¡å¯åŠ¨å®Œæˆ!"
echo ""
echo "ğŸ“‹ æœåŠ¡è®¿é—®åœ°å€:"
echo "MinIO Console: http://localhost:9001"
echo "MinIO API: http://localhost:9000"
echo "æ–‡ä»¶ç®¡ç†åº”ç”¨: http://localhost:8080"
echo "MySQL: localhost:3306"
echo ""
echo "ğŸ“‹ é»˜è®¤è´¦å·:"
echo "MinIO: admin / password123"
echo "MySQL: fileuser / filepassword"
```

## ä½¿ç”¨æŒ‡å—

### 1. å¯åŠ¨ç³»ç»Ÿ

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/yourusername/file-management-system.git
cd file-management-system

# å¯åŠ¨æ‰€æœ‰æœåŠ¡
./start.sh
```

### 2. é…ç½®MinIO

1. è®¿é—® http://localhost:9001
2. ä½¿ç”¨é»˜è®¤è´¦å·ç™»å½•: admin / password123
3. åˆ›å»ºå­˜å‚¨æ¡¶: files
4. è®¾ç½®å­˜å‚¨æ¡¶æƒé™ä¸ºå…¬å¼€è¯»å–

### 3. åˆå§‹åŒ–æ•°æ®åº“

```sql
-- åˆ›å»ºæ•°æ®åº“
CREATE DATABASE filemanager CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

-- åˆ›å»ºç”¨æˆ·
CREATE USER 'fileuser'@'%' IDENTIFIED BY 'filepassword';
GRANT ALL PRIVILEGES ON filemanager.* TO 'fileuser'@'%';
FLUSH PRIVILEGES;
```

### 4. è®¿é—®åº”ç”¨

1. å‰ç«¯åº”ç”¨: http://localhost:8080
2. æ³¨å†Œæ–°ç”¨æˆ·æˆ–ä½¿ç”¨é»˜è®¤ç®¡ç†å‘˜è´¦å·ç™»å½•
3. å¼€å§‹ä¸Šä¼ å’Œç®¡ç†æ–‡ä»¶

### 5. å¸¸ç”¨åŠŸèƒ½

#### æ–‡ä»¶ä¸Šä¼ 
- æ”¯æŒæ‹–æ‹½ä¸Šä¼ 
- æ”¯æŒæ‰¹é‡ä¸Šä¼ 
- å®æ—¶æ˜¾ç¤ºä¸Šä¼ è¿›åº¦
- è‡ªåŠ¨ç”Ÿæˆç¼©ç•¥å›¾ï¼ˆå›¾ç‰‡æ–‡ä»¶ï¼‰

#### æ–‡ä»¶ç®¡ç†
- åˆ›å»ºæ–‡ä»¶å¤¹
- æ–‡ä»¶é‡å‘½å
- æ–‡ä»¶ç§»åŠ¨/å¤åˆ¶
- æ–‡ä»¶æœç´¢

#### æƒé™æ§åˆ¶
- ç”¨æˆ·è§’è‰²ç®¡ç†
- æ–‡ä»¶å…±äº«æƒé™
- è®¿é—®æ—¥å¿—è®°å½•

## æ€»ç»“

æœ¬æ–‡è¯¦ç»†ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨MinIOæ­å»ºå®Œæ•´çš„æœ¬åœ°å±€åŸŸç½‘æ–‡ä»¶ç®¡ç†ç³»ç»Ÿï¼ŒåŒ…æ‹¬ï¼š

### æ ¸å¿ƒç‰¹æ€§

1. **é«˜æ€§èƒ½å­˜å‚¨**: MinIOæä¾›S3å…¼å®¹çš„å¯¹è±¡å­˜å‚¨ï¼Œæ”¯æŒé«˜å¹¶å‘è®¿é—®
2. **å®Œæ•´çš„å‰åç«¯**: Vue 3 + TypeScriptå‰ç«¯ï¼ŒSpring Bootåç«¯
3. **æ–‡ä»¶ç®¡ç†åŠŸèƒ½**: ä¸Šä¼ ã€ä¸‹è½½ã€åˆ é™¤ã€æ–‡ä»¶å¤¹ç®¡ç†ç­‰
4. **ç”¨æˆ·æƒé™æ§åˆ¶**: åŸºäºJWTçš„ç”¨æˆ·è®¤è¯å’Œæˆæƒ
5. **å¯æ‰©å±•æ¶æ„**: æ”¯æŒåˆ†å¸ƒå¼éƒ¨ç½²å’Œæ¨ªå‘æ‰©å±•

### æŠ€æœ¯äº®ç‚¹

1. **å‰åç«¯åˆ†ç¦»**: ç°ä»£åŒ–å¼€å‘æ¶æ„
2. **ç±»å‹å®‰å…¨**: TypeScriptæä¾›å®Œæ•´çš„ç±»å‹æ£€æŸ¥
3. **å“åº”å¼è®¾è®¡**: Element Plusæä¾›ç¾è§‚çš„ç”¨æˆ·ç•Œé¢
4. **å¾®æœåŠ¡æ¶æ„**: æ¨¡å—åŒ–è®¾è®¡ï¼Œä¾¿äºç»´æŠ¤å’Œæ‰©å±•

### éƒ¨ç½²ä¼˜åŠ¿

1. **å®¹å™¨åŒ–éƒ¨ç½²**: Docker Composeä¸€é”®éƒ¨ç½²
2. **æœ¬åœ°åŒ–å­˜å‚¨**: æ•°æ®å®Œå…¨å­˜å‚¨åœ¨æœ¬åœ°ç½‘ç»œ
3. **é«˜å¯ç”¨æ€§**: æ”¯æŒå¤šèŠ‚ç‚¹éƒ¨ç½²
4. **æ˜“äºç»´æŠ¤**: å®Œæ•´çš„ç›‘æ§å’Œæ—¥å¿—ç³»ç»Ÿ

è¿™ä¸ªè§£å†³æ–¹æ¡ˆé€‚åˆä¼ä¸šå†…éƒ¨æ–‡ä»¶ç®¡ç†ã€ä¸ªäººNASç³»ç»Ÿç­‰å¤šç§åº”ç”¨åœºæ™¯ã€‚é€šè¿‡æœ¬æ–‡çš„æŒ‡å¯¼ï¼Œæ‚¨å¯ä»¥å¿«é€Ÿæ­å»ºä¸€å¥—åŠŸèƒ½å®Œå–„ã€æ€§èƒ½ä¼˜è‰¯çš„æ–‡ä»¶ç®¡ç†ç³»ç»Ÿã€‚

## å‚è€ƒèµ„æ–™

1. [MinIOå®˜æ–¹æ–‡æ¡£](https://min.io/docs/minio/linux/index.html)
2. [Spring Bootå®˜æ–¹æ–‡æ¡£](https://spring.io/projects/spring-boot)
3. [Vue 3å®˜æ–¹æ–‡æ¡£](https://vuejs.org/)
4. [Element Plusæ–‡æ¡£](https://element-plus.org/)
5. [Docker Composeæ–‡æ¡£](https://docs.docker.com/compose/)
